@page
@model SchoolPlanner2.Pages.AdminPanel.IndexModel

@{
    ViewData["Title"] = "Index";
}


<h1 class="weeklyOverview">Weekly Overview</h1>

@*<p>
        Orari
    </p>*@

@*<table class="table">
        <thead>
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.Subject[0].Name)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Subject[0].StartTime)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Subject[0].EndTime)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Subject[0].Teacher)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Subject[0].Day)
                </th>
                <th></th>
            </tr>
        </thead>
        <tbody>
    @foreach (var item in Model.Subject) {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.StartTime)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.EndTime)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Teacher.Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Day)
                </td>
                <td>
                    <a asp-page="./Edit" asp-route-id="@item.SubjectID">Edit</a> |
                    <a asp-page="./Details" asp-route-id="@item.SubjectID">Details</a> |
                    <a asp-page="./Delete" asp-route-id="@item.SubjectID">Delete</a>
                </td>
            </tr>
    }
        </tbody>
    </table>*@

@*<table class="table">

        <thead>
            <tr>
                <th>Monday</th>
                <th>Tuesday</th>
                <th>Wednesday</th>
                <th>Thursday</th>
                <th>Friday</th>
                <th>Saturday</th>
                <th>Sunday</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.Subject)
            {
            <tr>
                <td>
                    @if (item.Day.Equals("Monday"))
                    {@Html.DisplayFor(modelItem => item.Name)}
                </td>
                <td>
                    @if (item.Day.Equals("Tuesday"))
                    {@Html.DisplayFor(modelItem => item.Name)}
                </td>
                <td>
                    @if (item.Day.Equals("Wednesday"))
                    {@Html.DisplayFor(modelItem => item.Name)}
                </td>
                <td>
                    @if (item.Day.Equals("Thursday"))
                    {@Html.DisplayFor(modelItem => item.Name)}
                </td>
                <td>
                    @if (item.Day.Equals("Friday"))
                    {@Html.DisplayFor(modelItem => item.Name)}
                </td>
                <td>
                    @if (item.Day.Equals("Saturday"))
                    {@Html.DisplayFor(modelItem => item.Name)}
                </td>
                <td>
                    @if (item.Day.Equals("Sunday"))
                    {@Html.DisplayFor(modelItem => item.Name)}
                </td>
            </tr>
            }
        </tbody>
    </table>*@


<div class="div-orari">
    <table id="weekday">
        <thead>
            <tr>
                <th>Monday</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.Subject)
            {
                <tr>
                    <td>
                        @if (item.Day.Equals("Monday"))
                        {<a asp-page="../Details/Details" asp-route-id="@item.SubjectID">@Html.DisplayFor(modelItem => item.Name)</a> }
                    </td>
                </tr>
            }
        </tbody>
    </table>

    <table id="weekday">
        <thead>
            <tr>
                <th>Tuesday</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.Subject)
            {
                <tr>
                    <td>
                        @if (item.Day.Equals("Tuesday"))
                        {<a asp-page="../Details/Details" asp-route-id="@item.SubjectID">@Html.DisplayFor(modelItem => item.Name)</a>}
                    </td>
                </tr>
            }
        </tbody>
    </table>
    <table id="weekday">
        <thead>
            <tr>
                <th>Wednesday</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.Subject)
            {
                <tr>
                    <td>
                        @if (item.Day.Equals("Wednesday"))
                        {<a asp-page="../Details/Details" asp-route-id="@item.SubjectID">@Html.DisplayFor(modelItem => item.Name)</a>}
                    </td>
                </tr>
            }
        </tbody>
    </table>

    <table id="weekday">

        <thead>
            <tr>
                <th>Thursday</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.Subject)
            {
                <tr>
                    <td>
                        @if (item.Day.Equals("Thursday"))
                        {<a asp-page="../Details/Details" asp-route-id="@item.SubjectID">@Html.DisplayFor(modelItem => item.Name)</a>}
                    </td>
                </tr>
            }
        </tbody>
    </table>

    <table id="weekday">

        <thead>
            <tr>
                <th>Friday</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.Subject)
            {
                <tr>
                    <td>
                        @if (item.Day.Equals("Friday"))
                        {<a asp-page="../Details/Details" asp-route-id="@item.SubjectID">@Html.DisplayFor(modelItem => item.Name)</a>}
                    </td>
                </tr>
            }
        </tbody>
    </table>

    <table id="weekday">

        <thead>
            <tr>
                <th>Saturday</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.Subject)
            {
                <tr>
                    <td>
                        @if (item.Day.Equals("Saturday"))
                        {<a asp-page="../Details/Details" asp-route-id="@item.SubjectID">@Html.DisplayFor(modelItem => item.Name)</a>}
                    </td>
                </tr>
            }
        </tbody>
    </table>

    <table id="weekday">

        <thead>
            <tr>
                <th>Sunday</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.Subject)
            {
                <tr>
                    <td>
                        @if (item.Day.Equals("Sunday"))
                        {<a asp-page="../Details/Details" asp-route-id="@item.SubjectID">@Html.DisplayFor(modelItem => item.Name)</a>}
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>


<br />
<div class="taskAndExam">
    <div class="AllTaskDiv">
        <h1 class="tasksOverview">
            Tasks Overview
        </h1>
        <p class="tasksOverview2">Upcoming</p>
        @*Ketu paraqiten Tasks*@

        @foreach (var item in Model.Task)
        {
            if (item.DueDate > DateTime.Now)
            {
    <div class="singleTaskDiv">
        <a asp-page="../Tasks/Edit" asp-route-id="@item.TaskID"><p class="taskTitle">@Html.DisplayFor(modelItem => item.Title)</p></a>
        <p class="taskDetail">@Html.DisplayFor(modelItem => item.Detail)</p>
        <p class="taskType">@Html.DisplayFor(modelItem => item.TypeOfTask)</p>
        <br />
        <p class="taskSubject">@Html.DisplayFor(modelItem => item.Subject.Name)</p>
        <p class="taskDueDate">@Html.DisplayFor(modelItem => item.DueDate)</p>
        @*<a href="@Url.Action("Complete", new { id = item.TaskID })">Complete</a>*@

    </div>
            }
        }
        <p class="tasksOverview2">Overdue</p>
        @foreach (var item in Model.Task)
        {
            if (item.DueDate < DateTime.Now)
            {
    <div class="singleTaskDiv">
        <a asp-page="../Tasks/Edit" asp-route-id="@item.TaskID"><p class="taskTitle">@Html.DisplayFor(modelItem => item.Title)</p></a>
        <p class="taskDetail">@Html.DisplayFor(modelItem => item.Detail)</p>
        <p class="taskType">@Html.DisplayFor(modelItem => item.TypeOfTask)</p>
        <br />
        <p class="taskSubject">@Html.DisplayFor(modelItem => item.Subject.Name)</p>
        <p class="taskDueDate">@Html.DisplayFor(modelItem => item.DueDate)</p>
        @*<a href="@Url.Action("Complete", new { id = item.TaskID })">Complete</a>*@

    </div>
            }

        }
    </div>
    <div class="AllExamDiv">
        <h1 class="tasksOverview">
            Exams Overview
        </h1>
        <p class="tasksOverview2">Upcoming</p>


        @foreach (var item in Model.Exam)
        {
    <div class="singleExamDiv">
        <p class="examName">@Html.DisplayFor(modelItem => item.Subject.Name)</p>
        <p>Due Date:</p>
        <p class="examDate">@Html.DisplayFor(modelItem => item.DateAndTime)</p>
        <p class="examRoom">@Html.DisplayFor(modelItem => item.Room)</p>
    </div>
        }
    </div>

</div>



<br />
<br />



@*<div class="divTable" style="width: 200px;height: 50px; border: 4px solid #000;">*@


<style>

    .examName{
        font-size:20px;
        text-align:center;

    }

    .examDate {
        display: inline-block;
    }

    .examRoom{
        display:inline-block;
        float:right;
    }

    .tasksOverview2{
        text-align:center;
        font-style:oblique;
    }

    .AllTaskDiv {
        float: left;
        margin-bottom: 120px;
    }

    .AllExamDiv {
        float: right;
    }

    #weekday {
        padding-left: 50px;
        display: inline-block;
        text-align: center
    }

        #weekday th {
            color: darkslateblue
        }

        #weekday td {
            color: black;
            position: inherit;
            font-size: 14px
        }

    .div-orari {
        display: flex;
    }

    

    .weeklyOverview {
        text-align: center;
        margin-bottom: 50px;
    }

    .tasksOverview {
        text-align: left;
        margin-bottom:20px;
    }

    .singleTaskDiv {
        width: 300px;
        height: 85px;
        margin-bottom: 40px;
    }

    .singleExamDiv {
        width: 250px;
        height: 85px;
        margin-bottom: 40px;
    }

    .taskTitle {
        display: block;
        text-align: center;
        font-size: 20px;
        color: blue;
        margin-bottom: 0px;
    }

    .taskDetail {
        display: inline-block;
        margin-bottom: 0px;
    }

    .taskType {
        display: inline-block;
        float: right;
        margin-bottom: 0px;
        padding-right: 3px;
        margin-bottom: 20px;
    }

    .taskDueDate {
        display: inline-block;
        margin-bottom: 0px;
    }

    .taskSubject {
        display: inline-block;
        margin-bottom: 0px;
    }

    .taskDetail {
        display: inline-block;
        margin-bottom: 0px;
    }

    .taskDetailLink{

    }
</style>

